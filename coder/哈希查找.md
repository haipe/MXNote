# 哈希查找

## 比较经典的场景：学号查找
### 1、没有明显的数学逻辑来归纳查找因子（学号）
### 2、可以用简单高效的逻辑将查找因子（学号）降维排列，并且是一个趋近线性，不分散的排列集合，这个逻辑过程通常称之为哈希映射
### 3、哈希必定存在冲突，高效的冲突处理逻辑，也是考量哈希效率的重要因素


## 常见的哈希计算方法（哈希映射算法）
### 1、直接哈希函数：取关键字本身，或者简单的线性哈希映射算法；如：按照年龄哈希的时候，将出生日期减去最小的年龄。然后就可以使用[0，）的查找因子区间了。
### 2、数字分析法：将已有的查找因子数字分析（比如：将数字进行位数分析，人为归纳数字的某些规律），从而得到哈希映射算法。
```
例如：对以下数字集合进行哈希存储。
8 1 3 4 5 2 5
8 1 3 5 6 7 8
8 1 3 4 4 7 7
8 1 2 3 8 8 8
9 2 3 5 0 9 5
根据统计可以得到，其中的第四位和第五位组成的数字，相对来说，可以进行线性和较少冲突的哈希映射。因而得到哈希映射算法。
```
### 3、平方取中法：将关键字平方，然后再取中间部分位数作为哈希映射的因子；
```
以关键字的平方值的中间几位作为存储地址。求"关键字的平方值”的目的是"扩大差别”和“贡献均衡”即:关键字的各位都在平方值的中间几位有所贡献，Hash值中应该有各位影子。
       补位）      36进制：字符26个，数字10个
A      0A         00 01    
JA     JA         09 01
I7     I7         08 34
PI     PI         16 08
P2     P2         16 29
```
### 4、折叠法：关键字位数较长时，可将关键字分割成位数相等的几部分(最后一 部分位数可以不同) ,取这几部分的叠加和(舍去高位的进位)作为哈希地址。位数由存储地址的位数确定。
```
叠加时有两种方法:
1、移位叠加法，即将每部分的最后一位对齐,然后相加;
2、边界叠加法，即把关键字看作一 纸条，从一-端向另一 -端沿边界逐次折叠,然后对齐相加。

(移位叠加法)                                  (边界叠加法)
    d[r]  d[r-1]  ...... d[1]                   d[r]    d[r-1]  ...... d[1]
    d[2r] d[2r-1] ...... d[r+1]                 d[r+1]  d[r+2]  ...... d[2r]
+)  d[3r] d[3r-1] ...... d[2r+1]            +)  d[3r]   d[3r-1] ...... d[2r+1]
-----------------------------------         -----------------------------------
    S[r]  S[r-1]  ...... S[1]                   S[r]  S[r-1]  ...... S[1]
```
### 5、除留余数法：取关键字被某个不大于哈希表长度m的数p除后的余数作为哈希地址；
```
假如被除数 p=21
关键字      28 35 63 77 105
哈希地址    7  14  0  14  0
ps：p的选择很重要，如果选得不好会产生很多冲突。
```
### 6、随机法（伪随机）：选择一个随机函数，取关键字的随机函数值作为哈希地址；
#### 实际工作中需根据不同的情况采用不同的哈希函数。通常需要考虑的因素有:
1、计算哈希函数所需时间;
2、关键字的长度;
3、哈希表的大小;
4、关键字的分布情况;
5、记录的查找频率。



## 字符串的哈希


## 哈希的冲突处理